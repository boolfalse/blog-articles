
## JavaScript Engineโค ีถีทีกีถีกีฏีธึีฉีตีธึีถีจ ึ ีฏีกีผีธึึีพีกีฎึีจ (ีดีกีฝ 2/7)

### NGNTJS - ีดีกีฝ 2

---

NGNTJS ีฐีธีคีพีกีฎีกีทีกึีซ ีถีกีญีธึีค [ีดีกีฝ 1](https://medium.com/@boolfalse/browser-%D5%B6%D5%A5%D6%80%D5%AB-%D5%B4%D5%A1%D5%BD%D5%AB%D5%B6-javascript-%D5%AB-%D5%BD%D5%BF%D5%A5%D5%B2%D5%AE%D5%B8%D6%82%D5%B4%D5%A8-bd7432375275)ึีธึีด ีถีฅึีฏีกีตีกึีพีฅีฌ ีง browserึีถีฅึีซ ีบีกีฟีดีธึีฉีตีธึีถีจ, JavaScriptึีซ ีกีผีกีปีกึีดีกีถ ีฐีซีดึีฅึีจ, ECMA ีฝีฟีกีถีคีกึีฟีซ ีกีผีกีปีกึีธึีดีจึ
ิฑีตีฝ ีดีกีฝีธึีด ีฏีถีฅึีฏีกีตีกึีถีฅีถึ JavaScript engineึีถีฅึีซ ีถีทีกีถีกีฏีธึีฉีตีธึีถีจ ึ ีฏีกีผีธึึีพีกีฎึีจึ

<img src="https://i.imgur.com/20M5uGG.png" style="width:100%;">

["Check Engine"]

ิฒีธีฌีธึ web browser-ีถีฅึีจ ีธึีถีฅีถ JavaScript Engine: ิดีก ีฎึีกีฃึีกีตีซีถ ีขีกีฒีกีคึีซีน ีง, ีธึีจ ึีบีฟีซีดีซีฆีกึีถีธึีด ึ ีกีทีญีกีฟีฅึีถีธึีด ีง JavaScript ีฏีธีคีจึ Web browserึีถีฅึีซ ีบีกีฟีดีธึีฉีตีกีถ ีฝีฏีฆีขีธึีด ีกีตีค ีขีกีฒีกีคึีซีนีจ ีซึีฅีถีซึ ีถีฅึีฏีกีตีกึีถีธึีด ีงึ ีฐีซีดีถีกีฏีกีถีธึีด ีดีซีกีตีถ interpreter, ีขีกีตึ ีชีกีดีกีถีกีฏีกีฏีซึ engineึีถีฅึีจ ีทีกีฟ ีกีพีฅีฌีซีถ ีฅีถ ึีกีถ interpreter-ีจ, ีคึีกีถึ ีธึีถีฅีถ ีฐีกีพีฅีฌีตีกีฌ ีฏีธีดีบีธีถีฅีถีฟีถีฅึ, ีธึีธีถึ ีฏีกีฟีกึีธึีด ีฅีถ ึีบีฟีซีดีซีฆีกึีซีก, ีซีถีนีบีฅีฝ ีถีกึ ึีฃีฟีกีฃีธึีฎีธึีด ีฅีถ JIT compilation, ีธึีจ ีฌีกีพีกึีถีธึีด ีง performance-ีจึ
JavaScript engineึีซ ึีธึีถีฏึีซีธีถีกีฌีถ ีง ีกีทีญีกีฟีฅึีถีฅีฌ JavaScript ีฏีธีคีจ ีกีถีฏีกีญ ีถึีกีถีซึี ีกีตีถ run ีง ีฌีซีถีธึีด browserึีธึีด, Node.jsึีธึีด, CLI environmentึีธึีด ีฉีฅ ีธึึีง IoT deviceึีธึีดึ
JavaScript engineึีถีฅึีซ ีดีกีฝีซีถ ีกีพีฅีฌีซ ีดีกีถึีกีดีกีฝีถ ีฏีคีซีฟีกึีฏีฅีถึ [ีดีกีฝ 7](https://medium.com/@boolfalse/javascript-%D5%AC%D5%A5%D5%A6%D5%B8%D6%82-runtime-engine-%D5%B4%D5%AB%D5%BB%D5%A1%D5%BE%D5%A1%D5%B5%D6%80-node-js-%D5%B4%D6%80%D6%81%D5%A1%D5%AF%D5%AB%D6%81%D5%B6%D5%A5%D6%80-deno-bun-82cf3222e94b)ึีธึีด, ีซีฝีฏ ีกีตีฝ ีดีกีฝีธึีด ีฏึีธึีฑีฅีถึ ีฝีฟีกีถีกีฌ ีขีกีพีกึีกึ ีจีถีคีฐีกีถึีกีฏีกีถ ีซีถึีธึีดีกึีซีกึ

ีีฅึีฏีกีตีธึีดีฝ ีฟีกึีขีฅึ browserึีถีฅึ ีกีทีญีกีฟีธึีด ีฅีถ ีฟีกึีขีฅึ engineึีถีฅึีธีพึ ิดึีกีถึีซึ ีฐีกีตีฟีถีซีถีฅึีซึ ีฅีถี

- [**SpiderMonkey**](https://spidermonkey.dev/) - ีฅึีขึีง ีฝีฟีฅีฒีฎีพีกีฎ ีกีผีกีปีซีถ engineึีจ ีถีธึีตีถ Brandon Eichึีซ ีฏีธีฒีดีซึ, ีธึีจ ีฝีฏีฆีขีธึีด ึีฃีฟีกีฃีธึีฎีฅีฌ ีง Netscape Navigatorึีซ ีฏีธีฒีดีซึ, ีกีตีถีธึีฐีฅีฟึ ีกีตีถ ีคีกึีฑีกีพ [open source](https://searchfox.org/mozilla-central/source/js/src), ีกีตีชีด ีกีทีญีกีฟีธึีด ีง Mozilla Firefoxึีซ ีพึีกึ
- [**V8**](https://v8.dev/) - Googleึีซ ีฏีธีฒีดีซึ ีฉีธีฒีกึีฏีพีกีฎ [open source](https://github.com/v8/v8) engine ีง ([issueึีถีฅึีซ ีงีปีจ](https://bugs.chromium.org/p/v8/issues/list))ึ ีีก ีฏีกึีธีฒ ีง ีฏีซึีกีผีพีฅีฌ standalone, ีฏีกีด ีฏีกึีธีฒ ีง embed ีฌีซีถีฅีฌ ีกีตีฌ C++ applicationึีถีฅึีธึีด, ีซีถีนีบีซีฝีซีถ ีง Node.js runtimeึีจ (ีธึีจ ีกีทีญีกีฟีฅึีถีธึีด ีง JavaScript ีฏีธีคีจ ีฝีฅึีพีฅึีธึีด), ีธึีจ ีถีธึีตีถีบีฅีฝ ึีฃีฟีพีธึีด ีง ีฝึีกีถีซึึ
- [**ChakraCore**](https://github.com/chakra-core/ChakraCore) - Microsoftึีซ ีฏีธีฒีดีซึ ีฝีฟีฅีฒีฎีกีฎ ีฝีฅึีกีฏีกีถ [open source](https://github.com/chakra-core/ChakraCore) engine-ีถ ีง, ีธึีถ ึีฃีฟีกีฃีธึีฎีธึีด ีฅีถ ีถีกีญีฏีซีถ IE-ีถ ึ ีกีตีชีดีพีก Edge-ีจ (ีดีซีถีน ECMA ีฝีฟีกีถีคีกึีฟีถีฅึีจี ีฌีฅีฆีธึีถ ีฏีธีนีพีฅีฌ ีง JScript)ึ ีึีก ีตีธึึีกีฐีกีฟีฏีธึีฉีตีธึีถีถีฅึีซึ ีง ีกีตีถ, ีธึ ีฝีก ีฏีธีดีบีซีฌีกึีถีธึีด ีง ีฝีฏึีซีบีฟีถีฅึีจ ีกีผีกีถีฑีซีถ CPU coreึีซ ีพึีก, web browser-ีซ ีฐีฅีฟ parallel ีฏีฅึีบีธีพึ
- [**JavaScriptCore** (JSC)](https://github.com/WebKit/WebKit/tree/main/Source/JavaScriptCore) - [Appleึีซ ีฏีธีฒีดีซึ](https://developer.apple.com/documentation/javascriptcore) ีฝีฟีฅีฒีฎีพีกีฎ [open source](https://github.com/WebKit/WebKit/tree/main/Source/JavaScriptCore) (ีฝีฅึีกีฏีกีถ [repo](https://opensource.apple.com/source/JavaScriptCore/)ึีถ) engine ีงึ ีีก ึีฃีฟีกีฃีธึีฎีธึีด ีง Safariึีซีถ, ีซีถีนีบีฅีฝ ีถีกึ ีกีตีฌ Appleึีซ ีขีธีฌีธึ [WebKit engine](https://webkit.org/project/)ึีถีฅึีจ (rendering engine)ึ ิปีถีนีบีฅีฝ V8ึีซ ีคีฅีบึีธึีด, ีถีดีกีถ ีฑึีธีพ JavaScriptCoreึีจ ีกีผีกีถีฑีซีถ ีฏีกึีธีฒ ีง ีฏีซึีกีผีพีฅีฌ Swift, Objective-C ึ C-ีฝีบีฅึีซึีซีฏ applicationึีถีฅึีธึีดึ ีึีบีฅีฝ engine ีกีตีถ ึีฃีฟีกีฃีธึีฎีพีธึีด ีง ีถีกึ Bunึีธึีด (ีกีตีฝ ีดีกีฝีซีถ ีฏีญีธีฝีฅีถึ ีฐีฅีฟีกีฃีกีตีธึีด)ึ

ีีฅึีฏีกีตีธึีดีฝ ีฏีกีถ ีกีตีฌ open source JavaScript engineึีถีฅึ ึีฝ, ีธึีธีถึ ีฏีกึีธีฒ ีฅีถ ีฏีซึีกีผีพีฅีฌ ีฟีกึีขีฅึ ีดีซีปีกีพีกีตึีฅึีธึีดโค

- [Boa](https://github.com/boa-dev/boa) - Boa is an embeddable and experimental Javascript engine written in Rust. Currently, it has support for some of the language.
- [Hermes](https://github.com/facebook/hermes/) - A JavaScript engine optimized for running React Native.
- [Yantra](https://github.com/yantrajs/yantra) - JavaScript Engine for .NET Standard.

ินีฅีฏีธึีฆึ ีฟีกึีขีฅึ browserึีถีฅึีซ ีดีธีฟีฅึีธึีดีถีฅึีจ ีซึีฅีถึ JavaScript engineึีถีฅึีธึีด ีฉีฅีฉึีกีฏีซ ีฟีกึีขีฅึ ีฅีถ, ีจีฝีฟ ีงีธึีฉีตีกีถี ีขีธีฌีธึีจ ีกีถีธึีด ีฅีถ ีดีซึีถีธึีตีถ ีฃีธึีฎีจึ ินีฅีฏีธึีฆ ีฌีธึีฎีธึีดีถีฅึีจ ีฏีกึีธีฒ ีฅีถ ีธึีถีฅีถีกีฌ ีธึีธีท ีฟีกึีขีฅึีธึีฉีตีธึีถีถีฅึ, ีกีตีถีธึีฐีกีถีคีฅึีฑ ีถึีกีถึ ีฟีกึีขีฅึ ีฌีซีถีฅีฌีจ ีกีผีกีปีกึีถีธึีด ีง ีขีถีกีฏีกีถ ีดึึีกีฏึีธึีฉีตีธึีถ, ีธึีจ ีชีกีดีกีถีกีฏีซ ีจีถีฉีกึึีธึีด ีขีฅึีฅีฌ ีง ีงีกีฏีกีถ ึีธึีธีญีธึีฉีตีธึีถีถีฅึีซ ึ ีฆีกึีฃีกึีดีกีถึ
ีีกีดีฅีถีกีตีถ ีคีฅีบีฝ ีถีฏีกึีกีฃึีฅีถึ ีชีกีดีกีถีกีฏีกีฏีซึ JavaScript Engine-ีซ ีฃีธึีฎีธีฒีธึีฉีตีธึีถีถีฅึีซ ีจีถีคีฐีกีถึีกีฏีกีถ ีบีกีฟีฏีฅึีจโค

<img src="https://i.imgur.com/l8jD0SY.png" style="width:100%;">

[ีีกีฟีฏีฅึีจ ีฏีกีผีธึึีพีกีฎ ีง [draw.io](https://app.diagrams.net/)ึีซ ึีฃีถีธึีฉีตีกีดีข]

ีีฏีกึีธึีด JavaScript engine-ีซ ีดีซีกีตีถ ีทีกีฟ ีจีถีคีฐีกีถึีกีฏีกีถ ีบีกีฟีฏีฅึีถ ีง, ีกีตีถ ีถีฏีกึีกีฃึีธึีด ีง ีฉีฅ ีซีถีนีบีฅีฝ ีง ีฟีฅีฒีซ ีธึีถีฅีถีธึีด JavaScript codeึีจ ีกีทีญีกีฟีกีถึีจึ ิฒีกึีซ ีกีตีถ, ีธึ JavaScript engine-ีถีฅึีจ ีซึีกึีซึ ีฟีกึีขีฅึีพีธึีด ีฅีถ, ีคึีกีถึ ีฟีกึีขีฅึีธึีฉีตีธึีถีถีฅึีจ ีถีธึีตีบีฅีฝ ึีธึีธีญีพีธึีด  ีฅีถ ีชีกีดีกีถีกีฏีซ ีจีถีฉีกึึีธึีด, ึีกีถีซ ีธึ ีฆีกึีฃีกีถีกีฌีธึ ีจีถีฉีกึึีธึีด ีกีตีถ ีธึีธีทีกีฏีซ ึีธึีธีญีธึีฉีตีธึีถีถีฅึ ีง ีฏึีธึีดึ ิฒีกีตึ ีฆีธึีฟ ีฐีกีฝีฏีกีถีกีฌีธึ ีฐีกีดีกึ ีฏีกึีฅีฌีซ ีง ีคีซีฟีกึีฏีฅีฌ ีพีฅึึีซ ีถีฏีกึีธึีด ีบีกีฟีฏีฅึีพีกีฎ ีฝีญีฅีดีกีถึ

**Source code**

1ึีซีถ ึีกีตีฌีธึีด ีธึีถีฅีถึ JavaScript/TypeScript ีฏีธีคึ
ีีก ีฏีกึีธีฒ ีง ีฌีซีถีฅีฌ ีฟีกึีขีฅึ ีดีซีปีกีพีกีตึีฅึีซ ีฐีกีดีกึ ีถีกีญีกีฟีฅีฝีพีกีฎ ีฏีธีค, ีซีถีนีบีซีฝีซีถ ีง web browserึีจ, serverึีจ, CLIึีจ ีฏีกีด ีธึึีง IoT ีฝีกึึึ

**Parser**

Parserึีจ ีถีกีญีกีฟีฅีฝีพีกีฎ ีง ีพีฅึีกึีธีญีฅีฌีธึ (transforming) ีฏีธีคีจ ีกีขีฝีฟึีกีฏีฟ ีฝีซีถีฟีกึีฝ ีฎีกีผีซึ Parser-ีจ ีฝีฟีธึีฃีธึีด ีง ีฏีธีคีซ ีฝีซีถีฟีกึีฝีจ, ึ ีฅีฉีฅ ีกีตีถีฟีฅีฒ ีฏีก ีฝีญีกีฌ, ีกีตีถ ีฐีฅีฟ ีง ีพีฅึีกีคีกึีฑีถีธึีด error, ึ ีคึีกีถีธีพ ีกึีฃีฅีฌีกีฏีธึีด ีง ีฐีฅีฟีกีฃีก ีกีทีญีกีฟีกีถึีจึ
ีีทีฃึีซีฟ (valid) ีฝีซีถีฟีกึีฝีซ ีคีฅีบึีธึีด Parserึีจ ีฏีกีผีธึึีธึีด ีง ีฝีซีถีฟีกึีฝ ีฎีกีผีจ (Abstract Syntax Tree):
V8ึีธึีด Parserึีซ ีกีทีญีกีฟีกีถึีซ ีดีกีฝีซีถ ีกึีชีซ ีฌีฝีฅีฌ JSConf EU 2017ึีธึีด V8 ีฉีซีดีซ ีกีทีญีกีฟีกีฏึีซ ีฏีธีฒีดีซึ [ีฐีฅีฟึีตีกีฌ talk](https://www.youtube.com/watch?v=Fg7niTmNNLg)ึีจ (ีฐีกีดีกีบีกีฟีกีฝีญีกีถ [ีบึีฅีฆีฅีถีฟีกึีซีกีถ](https://docs.google.com/presentation/d/1b-ALt6W01nIxutFVFmXMOyd_6ou_6qqP6S0Prmb1iDs/))ึ ิฑีตีฝีฟีฅีฒ ีถีก ีญีธีฝีธึีด ีง parserึีถีฅึีซ ีกีถีฐึีกีชีฅีทีฟีธึีฉีตีกีถ ีดีกีฝีซีถ, ึึีซีถีกีฏีซ ีพึีก ีขีกึีกีฟึีธึีด ีง parserึีซ ีกีทีญีกีฟีกีถึีจ, ีญีธีฝีธึีด ีง cachingึีซ, parsingึีซ lazy ึ eager modeึีฅึีซ ีดีกีฝีซีถ, parsing modeึีฅึีซ ีกีทีญีกีฟีกีถึีซ ีดีกีฝีซีถ function contextึีธึีด, parsing ึีธึีฌีธึีด ีกีผีกีปีกึีกีฎ ีญีถีคีซึีถีฅึีซ ึ ีกีตีฌีถีซ ีดีกีฝีซีถึ

**Abstract Syntax Tree (AST)**

ASTึีถ ีฏีซึีกีผีพีธึีด ีง ีถีกึ ีทีกีฟ ีกีตีฌ ีฎึีกีฃึีกีพีธึีดีกีถ ีฌีฅีฆีธึีถีฅึีซ ึ ีฃีธึีฎีซึีถีฅึีซ ีฝีซีถีฟีกึีฝ ีฎีกีผีจ ีฏีกีผีธึึีฅีฌีธึ ีฐีกีดีกึ (CSS, HTML, GraphQL, Java, JSON, Markdown, PHP, Scala, SQL, Regular Expressions, ึ ีกีตีฌีถ): ีึีก ีซีดีบีฌีฅีดีฅีถีฟีกึีซีกีตีซ ีพีซีฆีธึีกีฌ ึึีซีถีกีฏ ีฏีกึีฅีฌีซ ีง ีฟีฅีฝีถีฅีฌ ีกีตีฝีฟีฅีฒี [AST explorer](https://github.com/fkling/astexplorer):

**Interpreters/Compilers**

> _ีีธึีทีธึีดโค ีกีถีฐึีกีชีฅีทีฟีธึีฉีตีกีถ ีคีฅีบึีธึีด interpreterึีซ, compilerึีซ, JIT-compilerึีซ ีฐีฅีฟ ีฏีกีบีพีกีฎ ีฏีกึีธีฒ ีฅึ ีฎีกีถีธีฉีกีถีกีฌ ีถีฅึึึีธึีดึ_

ีีฟีกีถีกีฌีธีพ ีกีขีฝีฟึีกีฏีฟ ีฝีซีถีฟีกึีฝ ีฎีกีผีจ, ีกีตีถ ึีธีญีกีถึีพีธึีด ีง ีคีฅีบีซ 4ึึีค ึีกีตีฌ, ีธึีฟีฅีฒ ีบีฅีฟึ ีง ีซีถีฟีฅึีบึีฅีฟีกีฟีธึีจ ีดีทีกีฏีซ ีกีตีค ีฎีกีผีจ ึ ีคึีกีถีซึ ีฝีฟีกีถีก ีดีซีปีกีถีฏีตีกีฌ/ีถีกีญีถีกีฏีกีถ bytecode ีฟีฅีฝึ (intermediate representation):
Bytecodeึีจ JavaScript engineึีซ ีกีทีญีกีฟีกีถึีซ ีกึีคีตีธึีถึีซ ีกีตีถ ีพีซีณีกีฏีถ ีง, ีฅึีข ีฏีธีคีจ ีถีฅึีฏีกีตีกึีพีกีฎ ีง ีธึีบีฅีฝ ีฐึีกีดีกีถีถีฅึีซ ีฐีกีปีธึีคีกีฏีกีถีธึีฉีตีธึีถ (instruction set): ีีก ีกีตีถ ึีธึีฌีถ ีง, ีฅึีข ีฎึีกีฃึีกีพีธึีธีฒีจ ีนีธึีถีซ ีกีถีดีซีปีกีฏีกีถ ีกีฆีคีฅึีธึีฉีตีธึีถึ ิฑีตีฝ ึีธึีฌีธึีด ีฝีฏึีซีบีฟ ีฏีธีคีซ ึีธึีธีญีกีฏีกีถีถีฅึีจ ึ ึีธึีถีฏึีซีกีถีฅึีจ ีบีกีฐีพีธึีด ึ ึีฃีฟีกีฃีธึีฎีพีธึีด ีฅีถ register (ีฐีซีดีถีกีฏีกีถ ีฐีซีทีธีฒีธึีฉีตีธึีถ) ึ accumulator (ีจีถีฉีกึีซีฏ ีฐีซีทีธีฒีธึีฉีตีธึีถ) ีฏีธีนีพีธีฒ ีบีกีฐีธึีถีฅึีธึีด, ึ ีคึีกีถึ ึีฃีฟีกีฃีธึีฎีพีธึีด ีฅีถ instruction setึีซ ีบีกีฐีกีถีปีถีฅึีซ ีฏีกีฟีกึีดีกีถ ีฐีกีดีกึึ

**Intermediate Representation, a.k.a. Bytecode**

ิปีถีฟีฅึีบึีฅีฟีกีฟีธึีซ ีฏีธีฒีดีซึ ีฝีฟีกึีพีกีฎ bytecodeึีจ ีซึีกีฏีกีถีธึีด ีกีตีถ ีฟีฅีฝึีถ ีง, ีธึีจ ีฐีฅีฟีกีฃีกีตีธึีด ีบีฅีฟึ ีง transform ีกึีพีซ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีซ (7ึึีค ีขีฌีธีฏีธึีด), ีธึ ีกีตีถีธึีฐีฅีฟึ ึีธีญีกีถึีพีซ ีกีถีดีซีปีกีฏีกีถีธึีฅีถ ีคีฅีบีซ CPU:
ิฒีกีตึ, ึีกีฝีฟีธึีฅีถ, ีฟีฅีฝีถีธึีด ีฅีถึ ีธึ ีซีถีฟีฅึีบึีฅีฟีกีฟีธึีจ 4ึึีค ีขีฌีธีฏีซึ ีกีตีถ ีกีถีดีซีปีกีบีฅีฝ ีนีซ ึีธีญีกีถึีธึีด 7ึึีค ีขีฌีธีฏีซีถ, ีกีตีฝีซีถึีถี ีกีขีฝีฟึีกีฏีฟ ีฎีกีผีจ ีกีถีดีซีปีกีบีฅีฝ transform ีนีซ ีกึีพีธึีด ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีซึ ีีกีฟีณีกีผีถ ีกีตีถ ีง, ีธึ ีดีซีถีนึ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีค ีฝีกึึีฅีฌีจ, ีกีตีฝีฟีฅีฒ ีฏีกึีซึ ีฏีก ีธึีถีฅีถีกีฌีธึ ีธึีธีทีกีฏีซ ีดีซีปีกีถีฏีตีกีฌ ีฟีฅีฝึ (IR, ีฏีกีด ีธึ ีฐีกีตีฟีถีซ  ีง ีธึีบีฅีฝ bytecode), ีธึีซ ีพึีก ีบีฅีฟึ ีง ีฏีกีฟีกึีพีซ ีธึีธีทีกีฏีซ ีกีทีญีกีฟีกีถึ, ีซีถีนีบีซีฝีซีถ ีง JIT compilingึีจ (ีขีฌีธีฏ 6ึีธีพ)ึ
Bytecodeึีจ ีฝีบีฅึีซึีซีฏ ีง ีฟีพีตีกีฌ engineึีซีถ, ีกีตีฝีซีถึีถ ีฟีกึีขีฅึ engineึีถีฅึ ีธึีถีฅีถ ีซึีฅีถึ ีฝีฅึีกีฏีกีถ bytecode syntaxึีจ ึ instruction setsึีจึ

ิณึีพีกีฎ JS ีฏีธีคีซ bytecodeึีจ ีฟีฅีฝีถีฅีฌีธึ ีดีซีปีธึีถีฅึีซึ ีง node cliึีซ "--print bytecode" ีกึีฃีธึีดีฅีถีฟีซ ึีฃีฟีกีฃีธึีฎีธึีดีจึ ิถีธึีฟ ีบีกีฟีฏีฅึีกึีธึีด ีธึีถีฅีถีกีฌีธึ ีฐีกีดีกึ ีคีซีฟีกึีฏีฅีถึ ีดีซ ึึีซีถีกีฏึ ีึีถีฅีถึ index.js ึีกีตีฌ ีฐีฅีฟึีตีกีฌ ีฏีธีถีฟีฅีถีฟีธีพโค

```javascript
function sum() {
  var first = 10;
  var second = 5;
  var third = first + second;
  return third;
}

console.log(sum());
```

ีึีบีฅีฝีฆีซ ีฟีฅีฝีถีฅีถึ sum ึีธึีถีฏึีซีกีตีซ ีฐีฅีฟ ีฏีกีบีพีกีฎ bytecode ีฏีฟีธึีจ (ีกีดีขีธีฒีป bytecodeึีจ ีขีกีพีกีฏีกีถ ีดีฅีฎ ีง), ีฏีกึีธีฒ ีฅีถึ ีกีทีญีกีฟีฅึีถีฅีฌ ีฐีฅีฟึีตีกีฌีจโค

```shell
node --print-bytecode --print-bytecode-filter=sum index.js
```

ีกึีคีตีธึีถึีธึีด ีฏีฝีฟีกีถีกีถึ ีฐีฅีฟึีตีกีฌีจโค

```yaml
[generated bytecode for function: sum (0x095c31356c51 <SharedFunctionInfo sum>)]
Bytecode length: 13
Parameter count 1
Register count 3
Frame size 24
OSR urgency: 0
Bytecode age: 0
   31 S> 0x95c31357690 @    0 : 0d 0a             LdaSmi [10]
         0x95c31357692 @    2 : c4                Star0 
   50 S> 0x95c31357693 @    3 : 0d 05             LdaSmi [5]
         0x95c31357695 @    5 : c3                Star1 
   67 S> 0x95c31357696 @    6 : 0b f9             Ldar r1
   73 E> 0x95c31357698 @    8 : 39 fa 00          Add r0, [0]
         0x95c3135769b @   11 : c2                Star2 
   98 S> 0x95c3135769c @   12 : a9                Return 
Constant pool (size = 0)
Handler Table (size = 0)
Source Position Table (size = 12)
0x095c313576a1 <ByteArray[12]>
15
```

ิฑึีฟีกีขีฅึีพีกีฎ ีฟีพีตีกีฌีถีฅึีซึ ีฏีกึีฅีฌีซ ีง ีฐีกีฝีฏีกีถีกีฌ ีฐีฅีฟึีตีกีฌีจ (ีดีธึีฃ ึีธีถีฟีจ ีฟีกีผีฅึีซ ีถีทีกีถีกีฏีธึีฉีตีธึีถีถ ีง)โค

- LdaSmi [10]
  **l**oa**d** **sm**all **i**nteger **10** into the **a**ccumulator
- Star0
  **st**ore **a**ccumulator value to the **r0** register
- LdaSmi [5]
  **l**oa**d** **sm**all **i**nteger **5** into the **a**ccumulator
- Star1
  **st**ore **a**ccumulator value to the **r1** register
- Ldar r1
  **l**oad **r1** **r**egister value into the **a**ccumulator
- Add r0, [0]
  **add** whatever it is in **r0** **r**egister into the **0** index of the **a**ccumulator
- Star2
  **st**ore **a**ccumulator value to the **r2** register
- Return
  **return** the current value of the accumulator

ีีฟีธึึ ีกีฒีตีธึีฝีกีฏีธึีด ึีธึึีกีคึีฅีถึ instructionึีถีฅึีซ ีฐีกีปีธึีคีกีฏีกีถีธึีฉีตีธึีถีจ ึ ีตีธึึีกึีกีถีนีตีธึึ  ึีกีตีฌีธึีด accumulatorึีซ ึ registerึีถีฅึีซ ีกึีชีฅึีถีฅึีจโค

```markdown
| Instruction | Accumulator | Register r0 | Register r1 | Register r2 |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| <START>     |             |             |             |             |
| LdaSmi [10] |     10      |             |             |             |
| Star0       |     10      |     10      |             |             |
| LdaSmi [5]  |      5      |     10      |             |             |
| Star1       |      5      |     10      |      5      |             |
| Ldar r1     |      5      |     10      |      5      |             |
| Add r0, [0] |     15      |     10      |      5      |             |
| Star2       |     15      |     10      |      5      |      15     |
| Return      |     15      |     10      |      5      |      15     |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| <END>       |     15      |             |             |             |
```

bytecodeึีซ ีดีกีฝีธีพ ีฐีฅีฟีกึึึีซึ ีฐีธีคีพีกีฎ ีฏีก ีฃึีพีกีฎ ีฐีฅีถึ V8 ีฉีซีดีซ ีกีทีญีกีฟีกีฏึีซ ีฏีธีฒีดีซึี [Understanding V8's Bytecode](https://www.fhinkel.rocks/posts/Understanding-V8-s-Bytecode), ีซีฝีฏ [ีกีตีฝีฟีฅีฒ](https://www.alibabacloud.com/blog/javascript-bytecode-v8-ignition-instructions_599188) ีขีกีพีกีฏีกีถีซีถ ีดีกีถึีกีดีกีฝีถ ีคีซีฟีกึีฏีพีธึีด ีง V8ึีซ Ignition interpreterึีซ bytecodeึีจ ีฟีกึีขีฅึ ึึีซีถีกีฏีถีฅึีซ ีพึีกึ

**JIT (just-in-time) compiler**

ีีถีกีตีกีฎ ีถึีกีถ ีธึ 6ึึีค ึีกีตีฌีจ ีบีกึีฟีกีคีซึ ีนีง, ีฝีกีฏีกีตีถ ีถีฅึีฏีกีตีธึีดีฝ ีฐีซีดีถีกีฏีกีถีธึีด ีขีธีฌีธึ JavaScript engineึีถีฅึีจ ีธึีถีฅีถ JIT compiler ีขีกีฒีกีคึีซีนึ Bytecodeึีซ ีพึีก ีฟีกึีขีฅึ engineึีถีฅึ ีฏีซึีกีผีธึีด ีฅีถ ีซึีฅีถึ optimization compilerึีถีฅึีจ, ีธึีธีถึ ีฏีกึีธีฒ ีฅีถ ีฌีซีถีฅีฌ ีดีฅีฏีซึ ีกีพีฅีฌีซ, ึ ึีบีฟีซีดีซีฆีกึีถีธึีด ีฅีถ ีกีทีญีกีฟีกีถึีจึ

<img src="https://i.imgur.com/dtfApv4.png" style="width:100%;">

[ีีฏีกึีจี ีฝีฟีธึึ ีขีฅึีพีกีฎ ีฐีฒีธึีดีถีฅึีซึ]

ิดึีกีถึ ีดีกีฝีซีถ ีฏีกึีฅีฌีซ ีง ีกีพีฅีฌีซ ีดีกีถึีกีดีกีฝีถ ีฎีกีถีธีฉีกีถีกีฌ ีฝีฅึีกีฏีกีถ ีฉีซีดีฅึีซ ีกีทีญีกีฟีกีฏีซึีถีฅึีซ ีฏีธีฒีดีซึี

- **V8**: [Fanziska Hinkelmann - Introduction to JavaScript engines and performance](https://www.youtube.com/watch?v=WBkMm19ziUI)
- **JSC**: [Michael Saboff - JavaScriptCore, many compilers make this engine perform](https://www.youtube.com/watch?v=mtVBAcy7AKA)

ีีกีฏีซึีณ ีถีฏีกึีกีฃึีธึีฉีตีกีดีขี JIT compilerึีจ ีฃีธึีฎีซึ ีง, ีธึีจ ีกีถีดีซีปีกีบีฅีฝ bytecodeึีซึ ีฝีกึึีธึีด ีง machine code, ีฏีกีฟีกึีฅีฌีธีพ ึีบีฟีซีดีซีฆีกึีซีกึ ีีฅึีฏีกีตีธึีดีฝ, ึึีซีถีกีฏ V8 engineึีจ ีธึีบีฅีฝ JIT compiler ีฏีซึีกีผีธึีด ีง [TurboFan](https://v8.dev/docs/turbofan), SpiderMonkey engineึีจ ีธึีบีฅีฝ JIT compiler ีฏีซึีกีผีธึีด ีง [WarpMonkey](https://hacks.mozilla.org/2020/11/warp-improved-js-performance-in-firefox-83/) (ีถีกีญีฏีซีถีธึีดี IonMonkey):

**Machine Code**

ีีกึีฏีกีพีธึ ีง ีฐีกีทีพีซ ีกีผีถีฅีฌ ีกีตีถ ีฐีกีถีฃีกีดีกีถึีจ, machine codeึีจ, ีฌีซีถีฅีฌีธีพ [assembly language](https://en.wikipedia.org/wiki/Assembly_language), ีฝีบีฅึีซึีซีฏ ีง ีดีฅึีฅีถีกีตีซ architectureึีซีถ (ARM, Intel-based ีฏีกีด ีกีตีฌ processorึีถีฅึีซ ีคีฅีบึีธึีด), ีกีตีฝีซีถึีถี ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีจ ีฟีกึีขีฅึ ีณีกึีฟีกึีกีบีฅีฟีธึีฉีตีธึีถ ีธึีถีฅึีธีฒ ีดีฅึีฅีถีกีถีฅึีซ ีฐีกีดีกึ ีฌีซีถีฅีฌีธึ ีง ีฟีกึีขีฅึ, ีกีตีค ีซีฝีฏ ีบีกีฟีณีกีผีธีพ ีกีถีฐึีกีชีฅีทีฟ ีง ีธึีถีฅีถีกีฌ ีกีตีค ีดีซีปีกีถีฏีตีกีฌ ีฏีธีนีพีธีฒ bytecodeึีจึ

<img src="https://i.imgur.com/ZFV6zzf.jpg" style="width:100%;">

[ีีฏีกึีจี [unsplash.com](https://unsplash.com/photos/QndYCQc_a3g)]

**Compiler, Interpreter, JIT-compiler; ีกีถีกีฌีธีฃีถีฅึ ีผีฅีกีฌ ีฏีตีกีถึีซึ**

- **_Compiler (ีฏีธีดีบีซีฌีตีกีฟีธึ)_**
  ีีก ีฎึีกีฃึีกีตีซีถ ีกีบีกีฐีธีพีธึีด ีง, ีธึีจ ีขีกึีฑึ ีดีกีฏีกึีคีกีฏีซ ีฌีฅีฆีพีธีพ ([high-level language](https://en.wikipedia.org/wiki/High-level_programming_language)) ีฃึีพีกีฎ source codeึีจ (ึึีซีถีกีฏี C++ ีฌีฅีฆีธึีถ) "ีดีซีกีถีฃีกีดีซึ ึ ีกีดีขีธีฒีปีธึีฉีตีกีดีข" ีฉีกึีฃีดีกีถีธึีด ีง ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีซ (ีกีตีถ ีฝีบีฅึีซึีซีฏ ีง ีฟีพีตีกีฌ ีดีฅึีฅีถีกีตีซ ีณีกึีฟีกึีกีบีฅีฟีธึีฉีตีกีถีจ)ึ
  ินีกึีฃีดีกีถีฅีฌีธึ ีฐีกีดีกึ ีกีตีถ ีฏีกีฟีกึีธึีด ีง ีธีฒีป source codeึีซ ีฝีฟีกีฟีซีฏ ีกีถีกีฌีซีฆ, ีฝีฟีธึีฃีธึีด ีง errorึีถีฅึีซ ีกีผีฏีกีตีธึีฉีตีธึีถีจ ึ ีฃีฅีถีฅึีกึีถีธึีด ีง executable ีฏีกีด binary ึีกีตีฌ, ีธึีจ ีฏีกึีธีฒ ีง execute ีฌีซีถีฅีฌ ีดีฅึีฅีถีกีตีซ ีฏีธีฒีดีซึี compilerึีซึ ีกีถีฏีกีญึ ิฑีตีค ึีกีตีฌีถ ีกึีคีฅีถ ีฏีกึีฅีฌีซ ีง ีคีซีฟีกึีฏีฅีฌ ีธึีบีฅีฝ ีกีผีกีถีฑีซีถ ึีขีตีฅีฏีฟ, ีธึีจ ีฐีฅีฟีกีฃีกีตีธึีด execute ีกีถีฅีฌีธึ ีฐีกีดีกึ compile ีกีถีฅีฌีธึ ีฏีกึีซึ ีนีซ ีฌีซีถีซึ
- **_Interpreter (ีซีถีฟีฅึีบึีฅีฟีกีฟีธึ)_**
  ีีก ีดีฅีฎีกีดีกีฝีกีดีข ีซีถีฟีฅึีบึีฅีฟีกึีพีธีฒ ีฌีฅีฆีพีซ ีฐีฅีฟ ีฏีกีด JavaScriptึีซ ีคีฅีบึีธึีด ีคึีก engineึีซ ีฐีฅีฟ ีกึีคีฅีถ ีซีฝีฏ ีถีฅึีคึีพีกีฎ ีฎึีกีฃีซึ ีงึ ิดีกีฝีกีฏีกีถ ีคีฅีบึีธึีด (ีฅึีข ีกีดีฅีถ ีฟีธีฒีธึีด ีฃึีพีกีฎ ีง ีดีฅีฏ instruction) ีกีตีถ ีฟีธีฒ ีกีผ ีฟีธีฒ ีฏีกึีคีธึีด ีง ีตีธึึีกึีกีถีนีตีธึึ ีฐึีกีดีกีถีจ, ีฉีกึีฃีดีกีถีธึีด ีกีตีถ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฌีฅีฆีพีซ ึ execute ีกีถีธึีด ีกีตีค ีฐึีกีดีกีถีซีถ ีฐีกีดีกีบีกีฟีกีฝีญีกีถีธีฒ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีจ (JavaScriptึีซ ีคีฅีบึีธึีด ีดีซ ึีธึึ ีฟีกึีขีฅึีธึีฉีตีกีดีข)ึ
  JavaScriptึีซ ีคีฅีบึีธึีด ีฟีกึีขีฅึีธึีฉีตีธึีถีถ ีกีตีถ ีง, ีธึ interpreterึีจ source codeึีจ ีฟีธีฒ ีกีผ ีฟีธีฒ ีพีฅึีกีฎีธึีด ีง ีธีน ีฉีฅ ีดีซีกีถีฃีกีดีซึ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฌีฅีฆีพีซ, ีกีตีฌ ีดีซีปีกีถีฏีตีกีฌ ีฌีฅีฆีพีซ (IR - intermediate representation)ึ ิตึีข source codeึีถ ีกีดีขีธีฒีปีธึีฉีตีกีดีข ีซีถีฟีฅึีบึีฅีฟีกึีพีฅีฌ ีง ีดีซีปีกีถีฏีตีกีฌ ีฌีฅีฆีพีซ (ีฝีก ีฐีฅีถึ ีกีตีค bytecodeึีถ ีง), ีกีตีถ ีฐีฅีฟีธ ีกีดีขีธีฒีปีธึีฉีตีกีดีข ีฉีกึีฃีดีกีถีพีธึีด ีง ีดีฅึีฅีถีกีตีกีฏีกีถ ีฌีฅีฆีพีซ ึ execute ีง ีกึีพีธึีดึ
  ิบีกีดีกีถีกีฏีกีฏีซึ interpreterึีถีฅึีจ ีกีถีกีฌีซีฆ ีฅีถ ีกีถีธึีด source codeึีจ ีธีน ีกีดีขีธีฒีปีกีบีฅีฝ, ีกีตีฌ ีฐีฅึีฉีกีฏีกีถ ีฐึีกีดีกีถีจ ีฝีฟีกีถีกีฌีธึ ีฝีฏีฆีขีธึีถึีธีพ, ึ ีฐีฅึีฉีกีฏีกีถ ีฐึีกีดีกีถีจ ีฝีฟีกีถีกีฌีธึ ีบีกีฐีซีถ ีฏีกึีธีฒ ีฅีถ ีฏีกีฟีกึีฅีฌ ึีบีฟีซีดีซีฆีกึีซีกึ
  Java ีฌีฅีฆีพีธึีด ีถีธึีตีถีบีฅีฝ ีฟีฅีฒีซ ีง ีธึีถีฅีถีธึีด source codeึีซ ีฉีกึีฃีดีกีถีธึีฉีตีธึีถ ีคีฅีบีซ bytecodeึีซ (ึึีซีถีกีฏี javac compilerึีซ ีดีซีปีธึีธีพ), ีกีบีก bytecodeึีจ interpreterึีซ ึ JIT compilerึีซ ีดีซีปีธึีธีพ ีฉีกึีฃีดีกีถีพีธึีด ีง ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีซี ีฟีพีตีกีฌ ีดีซีปีกีพีกีตึีธึีด JVMึีซ ีฐีกีดีกึ, ีธึีจ ีบีฅีฟึ ีง execute ีกึีพีซึ
- **_JIT (just-in-time) compiler (JIT ีฏีธีดีบีซีฌีตีกีฟีธึ)_**
  JIT compilerึีจ ีฏีกึีฅีฌีซ ีง ีฐีกีดีกึีฅีฌ ีธึีบีฅีฝ compilerึีซ ึ interpreterึีซ ีฐีซีขึีซีคึ ีีก ีฎึีกีฃึีกีตีซีถ ีกีบีกีฐีธีพีธึีด ีง, ีธึีจ ีคีซีถีกีดีซีฏ ีฏีฅึีบีธีพ ีกีถีกีฌีซีฆ ีง ีกีถีธึีด source codeึีจ ึ ีดีซีถีนึ execute ีฌีซีถีฅีฌีจ ีขีฌีธีฏ ีกีผ ีขีฌีธีฏ ีฏีธีดีบีซีฌีกึีถีธึีด ีง ีดีฅึีฅีถีกีตีกีฏีกีถ ีฌีฅีฆีพีซี ีขีฌีธีฏีถีฅึีซ ีจีถีฉีกึึีธึีด ีฏีกีฟีกึีฅีฌีธีพ ึีบีฟีซีดีซีฆีกึีซีกึ ิตึีข source codeึีจ ีกีดีขีธีฒีปีธึีฉีตีกีดีข ีฏีธีดีบีซีฌีกึีพีฅีฌ ีง, ึ ีกึีคีฅีถ ีฏีก ีกีดีขีธีฒีปีกีฏีกีถ ีดีฅึีฅีถีกีตีกีฏีกีถ ีฏีธีคีจ, ีฟีฅีฒีซ ีง ีธึีถีฅีถีธึีด executionึ

<img src="https://i.imgur.com/u5Pts3Y.png" style="width:100%;">
 
[ีีฏีกึีจี [americangirl.com](https://www.americangirl.com/products/american-girl-baking-cookbook-dtd87)]

- **_Compiler - ีกีถีกีฌีธีฃ ีผีฅีกีฌ ีฏีตีกีถึีซึ_**
  ีีกีฟีฏีฅึีกึึีฅึี ีธึีถีฅึ ีฟีธึีฉ ีฉีญีฅีฌีธึ ีขีกีฒีกีคึีกีฟีธีดีฝ, ีธึีจ ีฃึีพีกีฎ ีง ีฑีฅีฆ ีกีถีฐีกีฝีฏีกีถีกีฌีซ ีฌีฅีฆีพีธีพ: ิดีธึึ ีขีกีฒีกีคึีกีฟีธีดีฝีจ ีฟีกีฌีซีฝ ีฅึ ีฉีกึีฃีดีกีถีนีซีถ, ีธีพ ีฏีกึีคีธึีด ีง ีกีดีขีธีฒีป ีขีกีฒีกีคึีกีฟีธีดีฝีจ, ีฐีกีฝีฏีกีถีธึีด ีง ีฐึีกีฐีกีถีฃีถีฅึีจ ึ ีฉีกึีฃีดีกีถีธึีด ีคึีกีถึ ีฑีฅีฆ ีฐีกีฝีฏีกีถีกีฌีซ ีฌีฅีฆีพีธีพ: ิฑีตีถีธึีฐีฅีฟึ ีฉีกึีฃีดีกีถีพีกีฎ ีขีกีฒีกีคึีกีฟีธีดีฝีจ ีฟีกีฌีซีฝ ีง ีฑีฅีฆ, ึ ีคีธึึ ีฏีกึีธีฒ ีฅึ ีบีกีฟึีกีฝีฟีฅีฌ ีฟีธึีฉีจี ีฐีฅีฟึีฅีฌีธีพ ีฐึีกีฐีกีถีฃีถีฅึีซีถ: ิฑีตีฝีบีซีฝีธีพ, ีคีธึึ ีฏีกึีธีฒ ีฅึ ีบีกีฟึีกีฝีฟีฅีฌ ีฟีธึีฉีจ, ีกีดีขีธีฒีปีธึีฉีตีกีดีข ีธึีถีฅีถีกีฌีธีพ ีธีฒีป ีฉีกึีฃีดีกีถีพีกีฎ ีฐึีกีฐีกีถีฃีถีฅึีจึ
- **_Interpreter - ีกีถีกีฌีธีฃ ีผีฅีกีฌ ีฏีตีกีถึีซึ_**
  ีีกีฟีฏีฅึีกึึีฅึี ีธึีถีฅึ ีฟีธึีฉ ีฉีญีฅีฌีธึ ีขีกีฒีกีคึีกีฟีธีดีฝ, ีธึีจ ีฃึีพีกีฎ ีง ีฑีฅีฆ ีฐีกีดีกึ ีกีถีฐีกีฝีฏีกีถีกีฌีซ ีฌีฅีฆีพีธีพ, ีซีฝีฏ ีฑีฅึ ีจีถีฏีฅึีจ ีฟีซึีกีบีฅีฟีธึีด ีง ีกีตีค ีฌีฅีฆีพีซีถึ ิดีธึึ ีกีตีฝ ีกีถีฃีกีด ีคีซีดีธึีด ีฅึ ีฑีฅึ ีจีถีฏีฅึีธีปีจ ึีฃีถีธึีฉีตีกีถึ ีีฅึ ีจีถีฏีฅึีจ ีฟีธีฒ ีกีผ ีฟีธีฒ ีฏีกึีคีธึีด ีง ีฐึีกีฐีกีถีฃีถีฅึีจ ึ ีฐีฅึีฉีกีฏีกีถีธึีฅีถ ีฉีกึีฃีดีกีถีธึีด ีง ีคึีกีถึ ีฑีฅีฆ: ิฑีดีฅีถ ีฐึีกีฐีกีถีฃีซ ีฉีกึีฃีดีกีถีธึีฉีตีธึีถีจ ีฌีฝีฅีฌีธึึ ีฐีฅีฟีธ ีคีธึึ ีฏีกีฟีกึีธึีด ีฅึ ีจีถีฉีกึีซีฏ ีฐึีกีฐีกีถีฃีจ, ึ ีกึีคีตีธึีถึีธึีด ีฟีธึีฉีจ ีบีกีฟึีกีฝีฟีพีธึีด ีง ีฐีกีปีธึีคีกีฏีกีถ ีกึีพีกีฎ ึีกีตีฌีฅึีซ ีกึีคีตีธึีถึีธึีดึ
  ีีน ีบีกึีฟีกีคีซึ, ีขีกีตึ ีชีกีดีกีถีกีฏีกีฏีซึ ีฏีตีกีถึีธึีด ีฐีถีกึีกีพีธึ ีง, ีธึ ีฑีฅึ ีจีถีฏีฅึีจ ีธึีถีฅีถีก ีถีกึ ีธึีธีทีกีฏีซ ีญีธีฐีกึีกึีกีฏีกีถ ีฃีซีฟีฅีฌีซึีถีฅึึ ิฑีตีฝ ีคีฅีบึีธึีด, ีฅึีข ึึีซีถีกีฏ Nึึีค ีฐึีกีฐีกีถีฃีถ ีง _"ีกีพีฅีฌีกึีถีฅีฌ 3 ีฃีคีกีฌ ีทีกึีกึ"_, ีซีฝีฏ N+1ึึีค ีฐึีกีฐีกีถีฃีถ ีง _"ีกีพีฅีฌีกึีถีฅีฌ ึีฝ 2 ีฃีคีกีฌ ีทีกึีกึ"_, ีฑีฅึ ีจีถีฏีฅึีจ ีกีตีฝ ีฅึีฏีธึ ีฐึีกีฐีกีถีฃีถีฅึีจ ีฐีกีดีกึีธึีด ีง ีธึีบีฅีฝ ีดีฅีฏ ีฐึีกีฐีกีถีฃ ึ ีฑีฅีฆ ีฐีกีดีกึ ีฑึีกีฏีฅึีบีธึีด ีง ึีบีฟีซีดีซีฆีกึีพีกีฎ ีฐึีกีฐีกีถีฃีจี _"ีกีพีฅีฌีกึีถีฅีฌ 5 ีฃีคีกีฌ ีทีกึีกึ"_ี ีคึีกีถีธีพ ีญีถีกีตีฅีฌีธีพ ีฃีธึีฎีธีฒีธึีฉีตีธึีถีถีฅึีซ ึีกีถีกีฏีจ ึ ีฏึีณีกีฟีฅีฌีธีพ ีบีกีฟึีกีฝีฟีดีกีถ ีชีกีดีกีถีกีฏีจึ
- **_JIT compiler - ีกีถีกีฌีธีฃ ีผีฅีกีฌ ีฏีตีกีถึีซึ_**
  ีีกีฟีฏีฅึีกึึีฅึี ีธึีถีฅึ ีขีกีฒีกีคึีกีฟีธีดีฝ, ีธึีจ ีฃึีพีกีฎ ีง ีกีถีฐีกีฝีฏีกีถีกีฌีซ ีฌีฅีฆีพีธีพ, ีขีกีตึ ีธึีถีฅึ ีกีถีฑีถีกีฏีกีถ ึีฃีถีกีฏีกีถ, ีธีพ ีฏีกึีธีฒ ีง ีฝีซีถีญึีธีถ ีฉีกึีฃีดีกีถีฅีฌ ีกีตีค ีฌีฅีฆีธึีถ, ีซีถีนีบีฅีฝ ีถีกึ ีธึีถีซ ีฃีฅึีกีฆีกีถึ ีญีธีฐีกึีกึีกีฏีกีถ ีฃีซีฟีฅีฌีซึีถีฅึึ ีีฅึ ึีฃีถีกีฏีกีถีจ ีขีฌีธีฏ ีกีผ ีขีฌีธีฏ ีฏีกึีคีธึีด ีง ีกีตีถ, ีฉีกึีฃีดีกีถีธึีด ีกีตีถ ึ ีฃึีซ ีง ีกีผีถีธึีด, ีคึีก ีพึีก ีฏีกีฟีกึีธึีด ีง ีธึีธีท ึีบีฟีซีดีซีฆีกึีซีกีถีฅึ (ีกีพีฅีฌีซ ีกีฏีฟีซีพ, ึีกีถ ีถีกีญีธึีคี ีจีถีฏีฅึีธีป ีคีฅีบึีธึีด), ึ ีกีฝีธึีด ีง ีฑีฅีฆ ีกีผีกีปีซีฏีก ีดีซ ึีกีถีซ ีฐึีกีฐีกีถีฃีถีฅึีซ ึีบีฟีซีดีซีฆีกึีพีกีฎ ีฟีกึีขีฅึีกีฏีจึ ิฑีดีฅีถ ีฐีกีปีธึีค ีฐึีกีฐีกีถีฃีซ ีชีกีดีกีถีกีฏ, ีดีซีถีน ีคีธึึ ีฏีกีฟีกึีธึีด ีฅึ ีฐึีกีฐีกีถีฃีจ, ีฑีฅึ ึีฃีถีกีฏีกีถีจ ีทีกึีธึีถีกีฏีธึีด ีง ีซีถึีถ ีซึ ีฟีฅีฟึีธึีด ีกีถีฅีฌ ีฃึีกีผีธึีดีถีฅึ, ีฏีกีฟีกึีฅีฌ ีฐีกีทีพีกึีฏีถีฅึ, ีดีฟีกีฎีฅีฌ, ึ ีบีกีฟึีกีฝีฟีพีธึีด ีง ีกีฝีฅีฌ ีฑีฅีฆ ีฐีกีปีธึีค ีฐึีกีฐีกีถีฃีถีฅึีซ ีขีฌีธีฏีจึ
  ีึีซีถีกีฏ, ีฑีฅึ ึีฃีถีกีฏีกีถีจ ีฏีกึีธีฒ ีง ีกีฝีฅีฌ _"ีฌีพีกึึีธึ 50 ีฐีกีฟ ีฅีฌีกีฏ, ีฐีฅีผีกึึีธึ ีบีธีนีฅึีจ, ีดีฅีปีฟีฅีฒีซึ ีฏีฟึีกีฟีซึ ีคึีกีถึ ึ ีกีตีค 100 ีฏีซีฝีกีฅีฌีกีฏีถีฅึีจ ีฏีฟึีพีกีฎ ีดีกีฏีฅึีฅีฝีธีพ ีฟีฅีฒีกีคึีซึ ีฟีธึีฉีซ ีทีฅึีฟีซ ีพึีก"_, ีกีตีถีซีถีนี ีธีน ึีบีฟีซีดีซีฆีกึีพีกีฎ ีคีฅีบึีธึีด ีคีธึึ ีบีฅีฟึ ีง ีฌีพีกีตีซึ 1 ีฅีฌีกีฏ, ีฐีฅีผีกึีถีฅีซึ ีบีธีนีจ, ีดีฅีปีฟีฅีฒีซึ ีฏีฟึีกีฟีฅีซึ ีกีตีถ ึ ีฏีฟึีพีกีฎ ีดีกีฏีฅึีฅีฝีธีพ 2 ีฏีซีฝีกีฅีฌีกีฏีถีฅึีจ ีฟีฅีฒีกีคึีฅีซึ ีฟีธึีฉีซ ีทีฅึีฟีซ ีพึีก, ึ ีกีตีฝ ีฐึีกีฐีถีกีฃีถีฅึีซ ีทีกึึีจ ีบีฅีฟึ ีง ีกีถีฅีซึ 50 ีกีถีฃีกีด, ึีกีถีซ ีธึ ีคีธึึ ีนีฃีซีฟีฅึ ีกีบีกีฃีก ีฐึีกีฐีกีถีฃีถีฅึีจึ ิฑีตีถีซีถีน, ีฅีฉีฅ ีซีดีกีถีธึีด ีฅึ, ีธึ ีฐีฅีฟีกีฃีก 49 ึีกีตีฌีฅึีธึีด ีถีธึีตีบีฅีฝ ีบีฅีฟึ ีง ีฌีพีกึ ีฅีฌีกีฏ, ีคีธึึ ีกีตีค 50 ีฅีฌีกีฏีถีฅึีจ ีฌีพีกีถีธึีด ีฅึ ีดีซ ีฟีกึีกีตีซ ีดีฅีป ีดีซีกีถีฃีกีดีซึึ
  ินีฅีธึีฅีฟีซีฏ ีคีฅีบึีธึีด, ีฏีกึีฅีฌีซ ีง ีบีกีฟีฏีฅึีกึีถีฅีฌ, ีธึ 20 ีฐึีกีฐีกีถีฃ ีธึีถีฅึีธีฒ ีขีกีฒีกีคึีกีฟีธีดีฝีจ ีฑีฅึ ึีฃีถีกีฏีกีถีจ ีฑีฅีฆ ีฐีกีดีกึ ีฏีกึีธีฒ ีง ีฉีกึีฃีดีกีถีฅีฌ ึ ีถีฅึีฏีกีตีกึีถีฅีฌ ึึีซีถีกีฏ 5 ีฐึีกีฐีกีถีฃีซ ีฟีฅีฝึีธีพึ
  ิฑีตีฝีบีซีฝีธีพี ีฑีฅึ ึีฃีถีกีฏีกีถีจ ึีฃีถีธึีด ีง ีฑีฅีฆ ีฐีกีทีพีกึีฏีถีฅึีซ ึีบีฟีซีดีซีฆีกึีซีกีตีซ, ีผีฅีฝีธึึีฝีถีฅึีซ ีญีถีกีตีดีกีถ ึ ีชีกีดีกีถีกีฏีซ ีฏึีณีกีฟีดีกีถ ีฐีกึึีธึีดึ

ีีฟีธึึ ีกีตีถ ึีฃีฟีกีฏีกึ ีผีฅีฝีธึึีฝีถีฅึีซ ีฐีฒีธึีดีถีฅึ ีฅีถ, ีธึีธีถึ ีธึีฒีฒีกีฏีซีธึีฅีถ ีฟีฅีฒ ีนีฃีฟีกีถ ีกีตีฝ ีดีกีฝีธึีด, ีขีกีตึ ีฏีกีบีพีกีฎ ีฅีถ ีฟีพีตีกีฌ ีฉีฅีดีกีตีซ ีฐีฅีฟโค

- [An Introduction to Speculative Optimization in V8](https://ponyfoo.com/articles/an-introduction-to-speculative-optimization-in-v8) [Nov, 2017]
- [Attacking JS engines: Fundamentals for understanding memory corruption crashes](https://www.sidechannel.blog/en/attacking-js-engines) [Apr, 2023]
- [How JavaScript Works: Under the Hood of the V8 Engine](https://www.freecodecamp.org/news/javascript-under-the-hood-v8/) [Aug, 2020]
- [The Mysterious Realm of JavaScriptCore](https://www.cyberark.com/resources/threat-research-blog/the-mysterious-realm-of-javascriptcore) [Mar, 2021]
- [Talks by fhinkel on YouTube](https://www.youtube.com/playlist?list=PL65pp6Tpk690HkOh324FqtFYyxFVnEFEX)
- [How JavaScript works: Optimizing the V8 compiler for efficiency](https://blog.logrocket.com/how-javascript-works-optimizing-the-v8-compiler-for-efficiency/) [Sep, 2019]
- [Just In Time (JIT) Compilers - Computerphile](https://www.youtube.com/watch?v=d7KHAVaX_Rs) [Nov, 2022]
- [Ode to the V8](https://medium.com/@lucygibbmar/ode-to-the-v8-ff2a4c394ac8) [Apr, 2019]

> ีีกีพีฅีฌีธึีดโค ีีกีพีฅีฌีธึีดโค ีถึีกีถึ ีฐีกีดีกึ, ีธีพึีฅึ ีฐีฅีฟีกึึึึีพีกีฎ ีฅีถ ึีกีฎึ ีดีกีฏีกึีคีกีฏีซ ีฐีฅีฟ ีฏีกีบีพีกีฎ (compilerึีถีฅึ, interpreterึีถีฅึ, ึ ีกีตีฌีถ), YouTubeึีธึีด ีฐีกีฝีกีถีฅีฌีซ ึีฃีฟีกีฏีกึ ีผีฅีฝีธึึีฝีถีฅึีซึ ีฅีถี [MIT 6.172 Performance Engineering of Software Systems, Fall 2018](https://www.youtube.com/playlist?list=PLUl4u3cNGP63VIBQVWguXxZZi0566y7Wf) ึ [Compilers and Interpreters 2022](https://www.youtube.com/playlist?list=PLlUGRprNEgH-FVK5NekKPg__7ySjeI3gn) ีคีกีฝีกีญีธีฝีธึีฉีตีธึีถีถีฅึีจ, ีซีฝีฏ ีบึีธึีฅีฝีซีธีถีกีฌ ีดีธีฟีฅึีดีกีถ ีฐีกีดีกึี [DragonBookึีซ 2ึึีค ีฐึีกีฟีกึีกีฏีธึีฉีตีธึีถีจ](https://www-2.dc.uba.ar/staff/becher/dragon.pdf)ึ

NGNTJS ีฐีธีคีพีกีฎีถีฅึีซ ีทีกึึีซ ีกีตีฝ ีดีกีฝีธึีด ีถีฅึีฏีกีตีกึีพีฅึ JavaScript engineึีถีฅึีซ ีถีทีกีถีกีฏีธึีฉีตีธึีถีจ ึ ีฏีกีผีธึึีพีกีฎึีจึ
ีีกีปีธึีคี [ีดีกีฝ 3](https://medium.com/@boolfalse/execution-context-%D5%BF%D5%BE%D5%B5%D5%A1%D5%AC%D5%B6%D5%A5%D6%80%D5%AB-%D5%BA%D5%A1%D5%B0%D5%BA%D5%A1%D5%B6%D5%B8%D6%82%D5%B4-4bc4fc2ebd4c)ึีธึีด ีฏีกีถึีถีฅีถึ JavaScriptึีซ ีกีทีญีกีฟีกีถึีซ ีธึีฝีธึีดีถีกีฝีซึีดีกีถีจึ ิฟีถีฅึีฏีกีตีกึีถีฅีถึ Execution contextึีจ ึ ีฟีพีตีกีฌีถีฅึีซี ึีธึีธีญีกีฏีกีถีถีฅึีซ ึ ึีธึีถีฏึีซีกีถีฅึีซ (first-class citizens) ีบีกีฐีบีกีถีธึีดีจึ ิธีถีฉีกึีธึีด ีฏีกีผีถีนีพีฅีถึ ีกีตีถีบีซีฝีซ ีฟีฅึีดีซีถีถีฅึีซ, ีซีถีนีบีซีฝีซึ ีฅีถ call stackึีจ, ึีธึีธีญีกีฏีกีถีถีฅึีซ ีฟีซีบีฅึีจ, hoistingึีจ ึ ีกีตีฌีถึ

***

ิตีฉีฅ ีฐีกีพีกีถีฅึีซึ ีกีตีฝ ีถีตีธึีฉีจ, ีกีฆีกีฟ ีฏีกึีธีฒ ีฅึ ีฐีฅีฟึีฅีฌ ีซีถีฑ ีกีตีฝีฟีฅีฒึ ๐

ิบีกีดีกีถีกีฏีกีฏีซึ ีฟีกึีขีฅึ ีฟีฅีญีถีธีฌีธีฃีซีกีถีฅึีธีพ ีกีทีญีกีฟีธีฒ ีบึีธีตีฅีฏีฟีถีฅึ ีธึีฝีธึีดีถีกีฝีซึีฅีฌีธึ ีฐีกีดีกึ ีฏีกึีธีฒ ีฅึ ีฐีฅีฟึีฅีฌ ีซีด [GitHub](https://github.com/boolfalse) ีงีปีซีถ, ีธึีฟีฅีฒ ีฅีฝ ีกีฏีฟีซีพีธึีฅีถ ีฐีกีถึีกีตีถีกึีถีธึีด ีฅีด ีซีด ีฏีกีฟีกึีกีฎ ีกีทีญีกีฟีกีถึีซ ีฆีฃีกีฌีซ ีดีกีฝีจึ

ิฑีตีฌ ีซีถึีธีซ ีฐีกีดีกึ ีฏีกึีธีฒ ีฅึ ีกีตึีฅีฌีฅีฌ ีซีด ึึีซึีซีกีฌ ีฏีกีตึ` [https://boolfalse.com/](https://boolfalse.com/)
